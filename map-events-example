 Map events = [													//Маппинг событий (тут находятся все действия, которые необходимо выполнить при переходе в определённый статус) 
        "KGHHPSM: Создать": { hpsm, event ->
            // Обновить указанные поля Проблемы
            def result = hpsm.setObjectFields(event.issue,			//Команда для обновления полей
                ["Поле: Статус дефекта",    						//Поля, которые должны быть обновлены
                 "Поле: Номер дефекта",
                ],
                [event.issue.status.name ?: "[???]",   				//Значения для полей (не возвращает false при их отсутствии)
                 event.issue.key ?: "[???]",
                ]
            )
            logger.info("result: ${result}")
            return result
        },
        "KGHHPSM: На диагностику": { hpsm, event -> 
            // Выполнить указанное действие (переход статуса) в HPSM
            hpsm.exec(event.issue, "На диагностику", 				//Название статуса + передаваемые данные
                ["Комментарий"],
                // Комментарий из модальника или, при отсутствии такового,
                // последний комментарий к Дефекту
                [hpsm.getLastComment(event)]
            )
            // Сбросить поле Статус HPSM у Дефекта в джире
            this.resetHpsmStatusField(event.issue)
            // Сохранить обновлённый Дефект в базе
            this.updateIssue(event.issue)
            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]            	//Название статуса
            )
        },
        "KGHHPSM: В работу": { hpsm, event -> 
            // Выполнить указанное действие (переход статуса) в HPSM
            hpsm.exec(event.issue, "В работу",  					//Название статуса + передаваемые данные
                ["Поле: Решение"],
                // Комментарий из модальника или, при отсутствии такового,
                // последний комментарий к Дефекту
                [hpsm.getLastComment(event)]
            )
            // Сбросить поле Статус HPSM у Дефекта в джире
            this.resetHpsmStatusField(event.issue)
            // Сохранить обновлённый Дефект в базе
            this.updateIssue(event.issue)
            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        "KGHHPSM: Приостановить": { hpsm, event -> 
            def until = (
                LocalDateTime
                .now()
                .plusMonths(1)
                .format(
                   DateTimeFormatter
                   .ofPattern("dd/MM/yy HH:mm:ss") //Создание переменной со временем (текущее +1 месяц)
                )
            )
            
            // Выполнить указанное действие (переход статуса) в HPSM
            hpsm.exec(event.issue, "Приостановить", 		//Название статуса + передаваемые данные
                ["Приостановить до", "Причина приостановки"],
                // Комментарий из модальника или, при отсутствии такового,
                // последний комментарий к Дефекту
                [until, hpsm.getLastComment(event)]
            )
            // Сбросить поле Статус HPSM у Дефекта в джире
            this.resetHpsmStatusField(event.issue)
            // Сохранить обновлённый Дефект в базе
            this.updateIssue(event.issue)
            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        
        "KGHHPSM: На мониторинг": { hpsm, event -> 
            // Доколе мониторить (1 месяц от текущей даты)
            def until = (
                LocalDateTime
                .now()
                .plusMonths(1)
                .format(
                   DateTimeFormatter
                   .ofPattern("dd/MM/yy HH:mm:ss") 
                )
            )
            
            // Выполнить указанное действие (переход статуса) в HPSM
            hpsm.exec(event.issue, "На мониторинг",  		//Название статуса + передаваемые данные
                [
                    "Дата завершения мониторинга",			//Здесь указываем какие данные будем передавать
                    "Поле: Решение",
                    "Поле: Тип причины",
                    "Поле: Причина",
                    "Поле: Корневая причина",
                    
                ],
                [
                    until,									//Здесь указываем значения полей
                    // Комментарий из модальника или, при отсутствии такового,
                    // последний комментарий к Дефекту
                    hpsm.getLastComment(event),
                    "ППО",
                    "Дефект",
                    "Дефект функционала",
                ]
            )
            // Сбросить поле Статус HPSM у Дефекта в джире
            this.resetHpsmStatusField(event.issue)
            // Сохренить обновлённый Дефект в базе
            this.updateIssue(event.issue)
            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        "KGHHPSM: Закрыть": { hpsm, event -> 
            // hpsm.exec(event.issue, "Закрыть", 
            //     [
            //         "Комментарий",
            //         "Поле: Тип причины",
            //         "Поле: Причина",
            //     ],
            //     [
            //         hpsm.getLastComment(event),    
            //         "ППО",
            //         "Дефект"
            //     ]
            // )

            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        "KGHHPSM: Отклонить": { hpsm, event -> 
            // Выполнить указанное действие (переход статуса) в HPSM
            hpsm.exec(event.issue, "Отклонить",
                [
                    "Код отклонения",
                    "Причина отклонения",
                ],
                [
                    "Отклонено",
                    // Комментарий из модальника или, при отсутствии такового,
                    // последний комментарий к Дефекту
                    hpsm.getLastComment(event),
                ]
            )
            // Сбросить поле Статус HPSM у Дефекта в джире
            this.resetHpsmStatusField(event.issue)
            // Сохренить обновлённый Дефект в базе
            this.updateIssue(event.issue)
            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        "KGHHPSM: Не исправлено": { hpsm, event ->
            // Обновить указанные поля Проблемы
            hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        "KGHHPSM: Контроль ДИТ": { hpsm, event ->
            // Обновить указанные поля Проблемы
            hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
        "KGHHPSM: Запрос доп. информации": { hpsm, event ->
            // Текущее зачение поля Статус HPSM Дефекта
            def hpsmStatus = this.getHpsmStatus(event.issue)    		//Получаем статус HPSM
            logger.info "${event.issue} HPSM status: ${hpsmStatus}"		//Выводим в Логи
            if (hpsmStatus != "Диагностика") {							//Проверяем статус и в случае несоответствия переводим его в "Диагностика"
                // Выполнить указанное действие (переход статуса) в HPSM
                hpsm.exec(event.issue, "На диагностику", 
                    ["Комментарий"],
                    [event.issue.status.name]
                )
                // Сбросить поле Статус HPSM у Дефекта в джире
                this.resetHpsmStatusField(event.issue)
                // Созранить обновлённый Дефект в базе
                this.updateIssue(event.issue)
            }
            // Обновить указанные поля Проблемы
            return hpsm.setObjectFields(event.issue, 
                ["Поле: Статус дефекта"],
                [event.issue.status.name ?: "[???]"]
            )
        },
    ]
